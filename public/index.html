<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Captain Sonar Visual Demo</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="/favicon.ico">
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }

    canvas {
      display: block;
    }
  </style>
  <script type="importmap">
    {
      "imports": {
        "pixi.js": "/node_modules/pixi.js/dist/pixi.mjs",
        "pixi-filters": "/node_modules/pixi-filters/dist/pixi-filters.mjs"
      }
    }
  </script>
  <script src="/socket.io/socket.io.js"></script>
</head>

<body>

  <div id="overlayPanel">
    <button id="minimizeBtn"
      style="position: absolute; top: 5px; right: 5px; width: 20px; height: 20px; background: none; border: none; color: white; font-size: 20px; cursor: pointer;">-</button>
    <h2>Scene Select</h2>
    <select id="sceneSelector"
      style="width: 100%; padding: 5px; margin-bottom: 10px; background: #333; color: white; border: 1px solid #555;">
      <option value="title">Title Scene</option>
      <option value="menu">Menu Scene</option>
      <option value="conn">Conn Scene</option>
      <option value="debugRotation">Debug Rotation Scene</option>
      <option value="lobby">Lobby Scene</option>
      <option value="engine">Engine Scene</option>
      <option value="xo">XO Scene</option>
      <option value="mapTest">Map Test Harness</option>
    </select>
    <hr style="border: 0; border-top: 1px solid #444; margin: 10px 0;">
    <button id="triggerPauseBtn" style="background: #d97706;">Trigger Global Pause</button>
  </div>

  <button id="maximizeBtn"
    style="display: none; position: absolute; top: 20px; right: 20px; width: 30px; height: 30px; z-index: 100;">+</button>

  <!-- Socket.io (server-provided) -->
  <script src="/socket.io/socket.io.js"></script>
  <!-- PixiJS is now loaded via client.js -->
  <!-- Client entrypoint -->
  <script type="module" src="js/client.js"></script>
  <script>
    const overlayPanel = document.getElementById('overlayPanel');
    const minimizeBtn = document.getElementById('minimizeBtn');
    const maximizeBtn = document.getElementById('maximizeBtn');

    minimizeBtn.addEventListener('click', () => {
      overlayPanel.style.display = 'none';
      maximizeBtn.style.display = 'block';
    });

    maximizeBtn.addEventListener('click', () => {
      overlayPanel.style.display = 'block';
      maximizeBtn.style.display = 'none';
    });
  </script>
</body>

</html>